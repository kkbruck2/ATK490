<!DOCTYPE html>
<html>

<head>
	<title>Mouse Hunt</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<!--<meta name="viewport" content="width=device-width, initial-scale=1">-->
	<meta name="viewport" content="user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1,width=device-width">


	<!-- p5js -->

	<script src="../libs/p5.min.js"></script>

	<button   id="request"  style="height: 50px; width: 150px; top: 20px; right: 20px; position: fixed; z-index: 5;">Request Permission</button>

<style> body {padding: 0; margin: 0;} body::-webkit-scrollbar { display: none; }</style>

<script>
// if (location.protocol != 'https:') {
//  location.href = 'https:' + window.location.href.substring(window.location.protocol.length);
// }

function requestT () {

	 if (typeof(DeviceMotionEvent) !== 'undefined' && typeof(DeviceMotionEvent.requestPermission) === 'function') {
			 alert('enter');
			 DeviceMotionEvent.requestPermission()
			 .then(response => {
			 	 alert('resp'+ response);
				 if (response == 'granted') {
					 window.addEventListener('devicemotion', (e) => {
						 // do something with e
						 // hide the button here
						 document.getElementById('request').style.display = 'none';
					 })
				 }
			 })

	 .catch(console.error)
	 }else {
			 alert('DeviceMotionEvent is not defined');
	 }
}
document.getElementById('request').onclick = requestT;
</script>
<style id="container">

</style>

<script>
let sketch = function(p) {
	p.setup = function(){
		p.createCanvas(windowWidth, windowHeight);;
		p.background("#CE9B64");

	}
};
new p5(sketch, 'container');
</script>

	<!-- sketch -->
	<script language="javascript" src="sketch.js"></script>
	<style>
		body {
			padding: 0;
			margin: 0;
		}
	</style>





</head>

<body>
	<div id='container' style="top: 0; right: 0; position: fixed; z-index: 1;"></div>



</body>

</html>
